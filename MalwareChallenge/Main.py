import ASMEnumerator as asme
import ASMKeyword as asmk
import numpy as np
import random
from sklearn import svm
from sklearn.metrics import accuracy_score as accuracy

# REQUIRED:
root, ext = "~/Documents/DATA/asmdump/", ".asm"

enum = asme.ASMEnumerator("~/Downloads/trainLabels.csv", root, ext)
train_full = [(asmk.ASMKeyword(root+x+ext).normal_dict(), enum.asm_class[x]) for x in enum.next_files(50)]
train_full = [x for x in train_full if x[0]]

train_data = [x[0] for x in train_full]
train_label = [x[1] for x in train_full]

magic = svm.SVC(kernel="rbf")
magic.fit(train_data, train_label)

print accuracy(train_label, magic.predict(train_data))
