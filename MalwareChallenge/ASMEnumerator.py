import csv
import random
from os import listdir
from os.path import expanduser, splitext

class ASMEnumerator():
    def __init__(self, csv_path, root, ext):
        self.root = expanduser(root)
        self.ext = ext
        self.asm_class = dict([row for row in csv.reader(open(expanduser(csv_path), "r"))][1:])
        self.__index = -1
    def next_file(self):
        self.__index += 1
        yield ([splitext(rand)[0] for rand in listdir(self.root) if splitext(rand)[1] == self.ext])[self.__index]
    def next_files(self, i):
        return [next(self.next_file()) for x in range(i)]
    def random_file(self):
        return random.choice([splitext(rand)[0] for rand in listdir(self.root) if splitext(rand)[1] == self.ext])